digraph EngTelecom {
    layout = dot  // circo, dot, fdp, neato, osage, sfdp, twopi
    label ="Engenharia de Telecomunicações"
    labelloc = t
    graph [nodesep=0.3, ranksep=1.3]#, splines=ortho]#, splines=lines] # ortho
    node [labelloc=c fontsize=10, style=filled, shape=box, style="rounded,filled"]
    edge [arrowsize=.5]


    // Pré-requisitos

    // Eixo laranja
    {horas1980} -> ADM
    {} -> DES
    {} -> ESC
    {} -> PTG
    {} -> QMC1
    {} -> SUS
    {ADM} -> ECO
    {CAL1} -> EST
    {FSC2} -> FEN
    {CAL2 FSC1} -> MEC
    {EST} -> MPQ # TODO verificar se PJI2 e PTG devem ser pré-requisito
    {QMC1} -> QMC2

    {} -> PCA
    {} -> GAL
    {GAL} -> ALG
    {PCA} -> CAL1 #[constraint=false,color="#FF0000"]
    {CAL1} -> CAL2
    {GAL CAL2} -> CAL3
    {CAL2} -> CAL4
    {ALG CAL2} -> CAN
    {PCA} -> FSC1
    {FSC1} -> FSC2
    {FSC1 CAL2} -> FSC3
    

    // Eixo amarelo
    {CAL1 ALG FSC3} -> CIE1
    {CIE1 CAL2} -> CIE2
    {CIE2 SIS2} -> CIE3 # TODO verificar
    {CIE2 LCI QMC1} -> ELA1 # TODO verificar
    {CAL2 CIE2 ELA1 SIS2} -> ELA2
    {ELA2 CIE3} -> ELA3
    {CIE1 SIS1} -> LCI

    // Eixo azul
    {PRE} -> COM1 # recomendada: sis2
    {COM1} -> COM2 # recomendada: PSD
    {EST SIS1} -> PRE # recomendada: PRG1, CAL4
    {CAL2 ALG CAL4} -> SIS1
    {SIS1} -> SIS2
    {CAL4 SIS2} -> PSD  # recomendada: CAN

    // Eixo cinza
    {} -> PJI1
    {PJI1 RED2 MIC} -> PJI2 # TODO colocar STD como pré-requisito
    {STD} -> PJI2 [color="#FF0000" constraint=false]
    {PJI2 ANT PSD COM1} -> PJI3 # recomendada DLP # TODO Colocamos ELA2 como coreq
    {STE} -> PJI3 [color="#FF0000" constraint=false]
    {ELA2}-> PJI3 [color="#FF0000" constraint=false]
    {MPQ PJI3} -> TCC1 # TODO colocar CH como pré-requisito - tirei PTG
    {TCC1} -> TCC2

    // Eixo marrom
    {SOP MIC} -> DLP
    {} -> ELD1
    {ELD1} -> ELD2 # ELA1 como recomendada
    {ELD2 PRG2} -> MIC
    {POO} -> MIC [color="#FF0000" constraint=false]
    {MIC SOP POO} -> STE

    // Eixo roxo
    {MTG} -> ANT
    {COM1} -> ANT [color="#FF0000" constraint=false]
    {COM1 ANT ELA3} -> CRF # recomendada CSF
    {STC} -> CRF [color="#FF0000" constraint=false]
    {ANT COM1} -> CSF
    {FSC3 CAL3} -> EMG
    {EMG} -> MTG # recomendada: CAL4
    {CSF} -> STC
    {CRF} -> STC [color="#FF0000" constraint=false]
    {MTG SIS1} -> TLF 

    // Eixo verde claro
    {ELD1 PRG1} -> RED1
    {RED1}-> RED2
    {PTC PRE} -> ADS

    // Eixo verde escuro
    {} -> LOG
    // {LOG} -> PRG1 [color="#FF0000" constraint=false]
    {} -> PRG1
    {PRG1} -> PRG2
    {PRG2} -> POO
    {PRG2 MIC} -> SOP
    {POO RED1 SOP} -> STD
    {POO} -> BCD
    {STD} -> PTC # RED2 como recomendada



    // Fases

    subgraph cluster_fase1 {
      label = "Fase 1"
      style = filled
      color = lightgrey

      LOG PCA PJI1 GAL PTG DES PRG1 QMC1
    }

    subgraph cluster_fase2 {
      label = "Fase 2"
      style = filled
      color = lightgrey

      CAL1 FSC1 ALG ELD1 PRG2 QMC2
    }

    subgraph clusterFase3 {
      label = "Fase 3"
      style = filled
      color = lightgrey

      CAL2 FSC2 ELD2 POO RED1 ESC
    }

    subgraph clusterFase4 {
      label = "Fase 4"
      style=filled
      color=lightgrey

      RED2 MIC CAL3 FSC3 FEN CAN SUS 
    
    }

    subgraph cluster_fase5 {
      label = "Fase 5"
      style=filled
      color=lightgrey

      CAL4 EMG CIE1 BCD SOP EST MEC
    }


    subgraph cluster_fase6 {
      label = "Fase 6"
      style=filled
      color=lightgrey

      SIS1 CIE2 STD PJI2 MTG STE DLP
    }

    subgraph cluster_fase7 {
      label = "Fase 7"
      style=filled
      color=lightgrey

     LCI TLF PRE SIS2 PTC MPQ ADM
    }

    subgraph cluster_fase8 {
      label = "Fase 8"
      style=filled
      color=lightgrey

      ELA1 CIE3 ADS PSD COM1 ANT ECO
    }

    subgraph cluster_fase9 {
      label = "Fase 9"
      style=filled
      color=lightgrey

      COM2 ELA2 CSF PJI3 
    }

    subgraph cluster_fase10 {
      label = "Fase 10"
      style=filled
      color=lightgrey

      STC ELA3 TCC1
    }

    subgraph cluster_fase11 {
      label = "Fase 11"
      style=filled
      color=lightgrey

      TCC2 ETO CRF
    }


      // expressão regular
      // (\w{3,4}) (\[ch=\d{2,3}) - find
      // $1 $2, color="#FFA343, id=$1 - replace

    // propriedades dos nós

    horas1980 [id="1980h"]

    ADM [ch=40, color="#FFA343", id=ADM] # TODO pré-requisito 1980h
    ALG [ch=60, color="#FFA343", id=ALG]
    CAL1 [ch=80, color="#FFA343", id=CAL1]
    CAL2 [ch=80, color="#FFA343", id=CAL2]
    CAL3 [ch=80, color="#FFA343", id=CAL3]
    CAL4 [ch=40, color="#FFA343", id=CAL4]
    CAN [ch=40, color="#FFA343", id=CAN]
    DES [ch=40, color="#FFA343", id=DES]
    ECO [ch=40, color="#FFA343", id=ECO]
    ESC [ch=40, color="#FFA343", id=ESC]
    EST [ch=60, color="#FFA343", id=EST]
    FEN [ch=40, color="#FFA343", id=FEN]
    FSC1 [ch=80, color="#FFA343", id=FSC1]
    FSC2 [ch=80, color="#FFA343", id=FSC2]
    FSC3 [ch=100, color="#FFA343", id=FSC3] # TODO verificar se terá redução de CH
    GAL [ch=60, color="#FFA343", id=GAL]
    MEC [ch=40, color="#FFA343", id=MEC]
    MPQ [ch=40, color="#FFA343", id=MPQ]
    PCA [ch=40, color="#FFA343", id=PCA]
    PTG [ch=40, color="#FFA343", id=PTG] # TODO pré-requisito 1980h
    QMC1 [ch=60, color="#FFA343", id=QMC1]
    QMC2 [ch=40, color="#FFA343", id=QMC2]
    SUS [ch=40, color="#FFA343", id=SUS]



    CIE1 [ch=80, color="#FFD700", id=CIE1]
    CIE2 [ch=60, color="#FFD700", id=CIE2]
    CIE3 [ch=60, color="#FFD700", id=CIE3]
    ELA1 [ch=80, color="#FFD700", id=ELA1]
    ELA2 [ch=80, color="#FFD700", id=ELA2]
    ELA3 [ch=40, color="#FFD700", id=ELA3]
    LCI  [ch=40, color="#FFD700", id=LCI ]


    COM1 [ch=100, color="#007FFF", id=COM1]
    COM2 [ch=80, color="#007FFF", id=COM2]
    PRE [ch=80, color="#007FFF", id=PRE]
    PSD [ch=60, color="#007FFF", id=PSD]
    SIS1 [ch=60, color="#007FFF", id=SIS1]
    SIS2 [ch=60, color="#007FFF", id=SIS2]


    ETO [ch=160, color="#808080", id=ETO]
    PJI1 [ch=40, color="#808080", id=PJI1]
    PJI2 [ch=40, color="#808080", id=PJI2]
    PJI3 [ch=40, color="#808080", id=PJI3]
    TCC1 [ch=40, color="#808080", id=TCC1]
    TCC2 [ch=100, color="#808080", id=TCC2]


    DLP [ch=60, color="#9F8170", id=DLP]
    ELD1 [ch=100, color="#9F8170", id=ELD1]
    ELD2 [ch=100, color="#9F8170", id=ELD2]
    MIC [ch=100, color="#9F8170", id=MIC]
    STE [ch=80, color="#9F8170", id=STE]


    ANT [ch=80, color="#9678B6", id=ANT]
    CRF [ch=60, color="#9678B6", id=CRF]
    CSF [ch=60, color="#9678B6", id=CSF]
    EMG [ch=60, color="#9678B6", id=EMG]
    MTG [ch=80, color="#9678B6", id=MTG]
    STC [ch=60, color="#9678B6", id=STC]
    TLF [ch=80, color="#9678B6", id=TLF]


    ADS [ch=40, color="#77DD77", id=ADS]
    RED1 [ch=80, color="#77DD77", id=RED1]
    RED2 [ch=80, color="#77DD77", id=RED2]


    BCD [ch=60, color="#339966", id=BCD]
    LOG [ch=40, color="#339966", id=LOG]
    POO [ch=80, color="#339966", id=POO]
    PRG1 [ch=80, color="#339966", id=PRG1]
    PRG2 [ch=80, color="#339966", id=PRG2]
    PTC [ch=40, color="#339966", id=PTC]
    SOP [ch=80, color="#339966", id=SOP]
    STD [ch=60, color="#339966", id=STD]

}
